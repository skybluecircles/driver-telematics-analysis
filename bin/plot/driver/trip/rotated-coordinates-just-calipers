#!/usr/bin/Rscript

source("bin/util/driver-trip-args.R")
source("bin/util/data.R")

left_most <- driver_trip_csv( driver_id, trip_id, "left-most-point-cartesian" )
right_most <- driver_trip_csv( driver_id, trip_id, "right-most-point-cartesian" )
homebody_distance <- driver_trip_value( driver_id, trip_id, "homebody-distance" )

# The outer boundary
kite <- matrix( c( 0, 0, right_most, 0, homebody_distance, left_most, 0, 0 ), ncol = 2, byrow = TRUE )

out <- driver_trip_file( driver_id, trip_id, "rotated-coordinates-just-calipers.svg" )
svg(out)

plot(  kite[,1], kite[,2], pch = 16, cex = 0.10, xlab = "", ylab = "", )

# Solid, thin vertical line
lines( c( 0, 0 ), c( 0, homebody_distance ), col = "grey" )

# Dashed lines from y axis to left / right-most points
lines( c( 0, right_most[1,1] ), c( right_most[1,2], right_most[1,2] ), col = "grey", lty = 2 )
lines( c( 0, left_most[1,1] ), c( left_most[1,2], left_most[1,2] ), col = "grey", lty = 2 )

# Draw the boundary
lines( kite[,1], kite[,2], lwd = 2 )

title <- paste( driver_id, "-", trip_id, " Rotated Coordinates (Just Kite)", sep = "" )
title( main = title )

dev.off()
