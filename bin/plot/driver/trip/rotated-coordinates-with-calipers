#!/usr/bin/Rscript

source("bin/util/driver-trip-args.R")
source("bin/util/data.R")

rotated <- driver_trip_csv( driver_id, trip_id, "coordinates-cartesian-rotated" )

out <- driver_trip_file( driver_id, trip_id, "rotated-coordinates-with-calipers.svg" )
svg(out)

plot(  rotated[[1]], rotated[[2]], pch = 16, cex = 0.10, xlab = "", ylab = "", )

lines(  rotated[[1]],  rotated[[2]], lwd = 3, col = "blue" )

left_most <- driver_trip_csv( driver_id, trip_id, "left-most-point-cartesian" )
right_most <- driver_trip_csv( driver_id, trip_id, "right-most-point-cartesian" )
homebody_distance <- driver_trip_value( driver_id, trip_id, "homebody-distance" )

kite <- matrix( c( 0, 0, right_most, 0, homebody_distance, left_most, 0, 0 ), ncol = 2, byrow = TRUE )

lines( kite[,1], kite[,2], lwd = 2 )

title <- paste( driver_id, "-", trip_id, " Rotated Coordinates with Calipers", sep = "" )
title( main = title )

dev.off()
